<html>
<head><link rel=stylesheet href="../jdoc.css" type="text/css">
<title>Agreement</title>

</head><body><!--top jump start--><a href="rank_conjunction.htm">&gt;&gt;</a>&nbsp;
<a href="verb_rank.htm">&lt;&lt;</a>&nbsp;
<a href="../user/contents.htm">Usr</a>&nbsp;
<a href="../primer/contents.htm">Pri</a>&nbsp;
<a href="../jforc/contents.htm">JfC</a>&nbsp;
<a href="../learning/contents.htm">LJ</a>&nbsp;
<a href="../phrases/contents.htm">Phr</a>&nbsp;
<a href="../dictionary/contents.htm">Dic</a>&nbsp;
<a href="../dictionary/vocabul.htm">Voc</a>&nbsp;
<a href="../dictionary/xmain.htm">!:</a>&nbsp;
<a href="../index.htm">Help</a>&nbsp;
Primer<hr><!--top jump end--> 
<h1>Agreement</h1>
For a dyad the left rank of the verb and the rank of the left argument determine the frame of the left argument. Similarly the right rank of the verb and the rank of the right argument determine the frame of the right argument. If the left and right frames are the same, then there are the same number of cells in each argument, and it is simply a matter of taking each cell in turn from the left and right arguments, applying the verb, and putting the result into the frame of the result.<br>

<pre>
   a =. i. 2 3
   b =. 2 3 $ 7
   a + b
 7  8  9
10 11 12</pre>
Visually you can see how each atom from the left is used with the corresponding atom from the right.<br>

<pre>0 1 2   +   7 7 7   gives   7  8  9
3 4 5       7 7 7          10 11 12</pre>
You have also seen that the following works.<br>

<pre>   a + 7
 7  8  9
10 11 12</pre>
Visually you can see how each atom from the left is used with the corresponding atom from the right.<br>

<pre>0 1 2   +   7 ...      gives   7  8  9
3 4 5       ...               10 11 12</pre>
<br>
The <font face=courier size=-1>...</font> indicates that the cell is repeated to provide the required arguments. The<font face=courier size=-1> ...</font> to the right and below the 7 indicates it is repeated in 2 axes.<br>
<br>
But what about the following?<br>

<pre>   a + 3 4
3 4 5
7 8 9</pre>
Again you can see how the cells of the right argument repeat to provide the required verb arguments.<br>

<pre>0 1 2   +   3 ...      gives    3 4 5
3 4 5       4 ...               7 8 9</pre>
But there must be some agreement between the cells in the arguments.<br>

<pre>   a + 3 4 5
|length error
|   a    +3 4 5</pre>
Visually what is happening:<br>

<pre>0 1 2   +   3 ...      gives    3 4 5
3 4 5       4 ...               7 8 9
            5 ...	error - ran out of lefts</pre>
The above cases are simple enough, but consider the following with a rank 3 noun.<br>

<pre>   b =. i. 2 3 4
   b + a
 0  1  2  3
 5  6  7  8
10 11 12 13

15 16 17 18
20 21 22 23
25 26 27 28</pre>
This is more complicated to visualize.<br>

<pre> 0  1  2  3   +   0 ...   gives   0  1  2  3
 4  5  6  7       1 ...           5  6  7  8
 8  9 10 11       2 ...          10 11 12 13

12 13 14 15       3 ...          15 16 17 18
16 17 18 19       4 ...          20 21 22 23
20 21 22 23       5 ...          25 26 27 28</pre>
Similarly:<br>

<pre>   b + 2 3
 2  3  4  5
 6  7  8  9
10 11 12 13

15 16 17 18
19 20 21 22
23 24 25 26</pre>
Visually:<br>

<pre> 0  1  2  3   +   2 ...   gives  2  3  4  5
 4  5  6  7       ...            6  7  8  9
 8  9 10 11                     10 11 12 13

12 13 14 15       3 ...         15 16 17 18
16 17 18 19       ...           19 20 21 22
20 21 22 23                     23 24 25 26</pre>
The agreement rule is quite simple. If the left and right frames are the same then there is no problem. Otherwise, one frame must be a prefix of the other, and its cells are repeated into its trailing axes to provide the required arguments.<br>
<!--bottom jump start--><hr><a href="rank_conjunction.htm">&gt;&gt;</a>&nbsp;
<a href="verb_rank.htm">&lt;&lt;</a>&nbsp;
<a href="../user/contents.htm">Usr</a>&nbsp;
<a href="../primer/contents.htm">Pri</a>&nbsp;
<a href="../jforc/contents.htm">JfC</a>&nbsp;
<a href="../learning/contents.htm">LJ</a>&nbsp;
<a href="../phrases/contents.htm">Phr</a>&nbsp;
<a href="../dictionary/contents.htm">Dic</a>&nbsp;
<a href="../dictionary/vocabul.htm">Voc</a>&nbsp;
<a href="../dictionary/xmain.htm">!:</a>&nbsp;
<a href="../index.htm">Help</a>&nbsp;
Primer<!--bottom jump end--></body>
</html>
