<html>
<head><link rel=stylesheet href="../jdoc.css" type="text/css">
<title>,&amp;.&gt;/&quot;r Improved</title>
<link href="../jdoc.css" rel=stylesheet>
</head>

<body><!--top jump start--><a href="ordstat.htm">&gt;&gt;</a>&nbsp;
<a href="7x1.htm">&lt;&lt;</a>&nbsp;
<a href="../user/contents.htm">Usr</a>&nbsp;
<a href="../primer/contents.htm">Pri</a>&nbsp;
<a href="../jforc/contents.htm">JfC</a>&nbsp;
<a href="../learning/contents.htm">LJ</a>&nbsp;
<a href="../phrases/contents.htm">Phr</a>&nbsp;
<a href="../dictionary/contents.htm">Dic</a>&nbsp;
<a href="../release/contents.htm">Rel</a>&nbsp;
<a href="../dictionary/vocabul.htm">Voc</a>&nbsp;
<a href="../dictionary/xmain.htm">!:</a>&nbsp;
<a href="../index.htm">Help</a>&nbsp;
Release<hr><!--top jump end-->

<br>
<table width=100%><tr><td align=left valign=top>
<b><font size=+3 face="Courier New">,&amp;.&gt;/&quot;r </font><font size=+3>Improved</font>
</td><td align=right>
initial writing: 2008-04-08<br>last updated: 2010-03-31
</td></tr></table>
<br>

<p>The monad<tt> ,&amp;.&gt;/&quot;r </tt>(also<tt> ,&amp;.&gt;/</tt>)
has been made more efficient.
The following benchmarks demonstrate the improvements.</p>

<pre>
ts=: 6!:2 , 7!:2@]  NB. time and space

x=: a {~ (10,n) ?@$ #a=: ;:'The Mississippi delta was shining like a national guitar'
10 ts ',&amp;.&gt;/&quot;1 x'   or   10 ts ',&amp;.&gt;/x'
</pre>

<table>
<tr><td>&nbsp;<b>n</b></td><td>&nbsp; &nbsp; &nbsp;</td>
 <td colspan=3 align=center><b>J 7.01</b></td><td>&nbsp; &nbsp; &nbsp;</td>
 <td colspan=3 align=center><b>J 6.02</b></td><td>&nbsp; &nbsp; &nbsp;</td>
 <td colspan=3 align=center><b>Ratio</b></td></tr>
<tr><td colspan=13><tt>,&amp;.&gt;/&quot;1 x</td></tr>
<tr><td align=right> 5000</td><td>&nbsp;</td><td align=right>0.002155</td><td>&nbsp;</td><td align=right> 362048</td><td>&nbsp;</td><td align=right>0.319172</td><td>&nbsp;</td><td align=right> 396416</td><td>&nbsp;</td><td align=right>148.14</td><td>&nbsp;</td><td align=right>1.09</td></tr>
<tr><td align=right>10000</td>     <td>&nbsp;</td><td align=right>0.004406</td><td>&nbsp;</td><td align=right> 722496</td><td>&nbsp;</td><td align=right>1.177139</td><td>&nbsp;</td><td align=right> 789632</td><td>&nbsp;</td><td align=right>267.17</td><td>&nbsp;</td><td align=right>1.09</td></tr>
<tr><td align=right>20000</td>     <td>&nbsp;</td><td align=right>0.008259</td><td>&nbsp;</td><td align=right>1443392</td><td>&nbsp;</td><td align=right>4.477442</td><td>&nbsp;</td><td align=right>1576064</td><td>&nbsp;</td><td align=right>542.12</td><td>&nbsp;</td><td align=right>1.09</td></tr>
<tr><td colspan=7><tt>,&amp;.&gt;/x</td></tr>
<tr><td align=right> 5000</td><td>&nbsp;</td><td align=right>0.007273</td><td>&nbsp;</td><td align=right> 690688</td><td>&nbsp;</td><td align=right>0.009716</td><td>&nbsp;</td><td align=right>1454144</td><td>&nbsp;</td><td align=right>  1.34</td><td>&nbsp;</td><td align=right>2.11</td></tr>
<tr><td align=right>10000</td>     <td>&nbsp;</td><td align=right>0.006064</td><td>&nbsp;</td><td align=right>1388928</td><td>&nbsp;</td><td align=right>0.025526</td><td>&nbsp;</td><td align=right>2906432</td><td>&nbsp;</td><td align=right>  4.21</td><td>&nbsp;</td><td align=right>2.09</td></tr>
<tr><td align=right>20000</td>     <td>&nbsp;</td><td align=right>0.010838</td><td>&nbsp;</td><td align=right>2775296</td><td>&nbsp;</td><td align=right>0.064701</td><td>&nbsp;</td><td align=right>5812096</td><td>&nbsp;</td><td align=right>  5.97</td><td>&nbsp;</td><td align=right>2.09</td></tr>
</table>

<br>
<!--bottom jump start--><hr><a href="ordstat.htm">&gt;&gt;</a>&nbsp;
<a href="7x1.htm">&lt;&lt;</a>&nbsp;
<a href="../user/contents.htm">Usr</a>&nbsp;
<a href="../primer/contents.htm">Pri</a>&nbsp;
<a href="../jforc/contents.htm">JfC</a>&nbsp;
<a href="../learning/contents.htm">LJ</a>&nbsp;
<a href="../phrases/contents.htm">Phr</a>&nbsp;
<a href="../dictionary/contents.htm">Dic</a>&nbsp;
<a href="../release/contents.htm">Rel</a>&nbsp;
<a href="../dictionary/vocabul.htm">Voc</a>&nbsp;
<a href="../dictionary/xmain.htm">!:</a>&nbsp;
<a href="../index.htm">Help</a>&nbsp;
Release<!--bottom jump end--></body>
</html>
