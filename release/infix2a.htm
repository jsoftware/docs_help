<html>
<head><link rel=stylesheet href="../jdoc.css" type="text/css">
<title>2 f/\y Improved</title>
<link href="../jdoc.css" rel=stylesheet>
</head>

<body><!--top jump start--><a href="amend.htm">&gt;&gt;</a>&nbsp;
<a href="oblique.htm">&lt;&lt;</a>&nbsp;
<a href="../user/contents.htm">Usr</a>&nbsp;
<a href="../primer/contents.htm">Pri</a>&nbsp;
<a href="../jforc/contents.htm">JfC</a>&nbsp;
<a href="../learning/contents.htm">LJ</a>&nbsp;
<a href="../phrases/contents.htm">Phr</a>&nbsp;
<a href="../dictionary/contents.htm">Dic</a>&nbsp;
<a href="../release/contents.htm">Rel</a>&nbsp;
<a href="../dictionary/vocabul.htm">Voc</a>&nbsp;
<a href="../dictionary/xmain.htm">!:</a>&nbsp;
<a href="../index.htm">Help</a>&nbsp;
Release<hr><!--top jump end-->

<br>
<table width=100%><tr><td align=left valign=top>
<b><font size=+3 face="Courier New">2 f/\y </font>
<font size=+3>Improved</font></b></td>
<td align=right>
initial writing: 2005-06-08<br>last updated: 2005-06-09
</td></tr></table>
<br>

<tt>2 f/\y </tt>is now implemented by special code for any verb<tt> f </tt>and 
any array<tt> y </tt>,<tt> </tt>
removing the <a href="infix2.htm">previous restrictions</a> 
on<tt> f </tt>and<tt> y</tt> .<tt> </tt> 
The table below presents time and space comparisons;
the bottom section of the table shows that<tt> 2 f/\x </tt>
is more efficient in time and space than the equivalent<tt> (}:x) f (}.x)</tt> .
<pre>
i=: 1e5 3 ?.@$ 10           <font face=Times size=3>integer</font>
x=: o. i                    <font face=Times size=3>floating point</font>
b=: 1e5 3 ?.@$ 2            <font face=Times size=3>boolean</font>

ts=: 6!:2 , 7!:2@]          <font face=Times size=3>time and space</font>
ts 'Expression'
</pre>

<table>
<tr><td><b>Expression</b></td><td>&nbsp; &nbsp; &nbsp;</td>
<td align=center colspan=3><b>J 6.01</b></td><td>&nbsp; &nbsp;</td>
<td align=center colspan=3><b>J 5.04</b></td><td>&nbsp; &nbsp;</td>
<td align=center colspan=3><b>Ratio</b></td>
</tr>

<tr><td><tt>2 -:/\ i</tt></td>            <td>&nbsp;</td><td>0.00095811</td><td>&nbsp;</td><td>1.325440e5</td><td>&nbsp;</td><td>0.13497488</td><td>&nbsp;</td><td>3.278720e6</td><td>&nbsp;</td><td align=right>140.88</td><td>&nbsp;</td><td align=right>24.74</td></tr>
<tr><td><tt>2 -:/\ x</tt></td>            <td>&nbsp;</td><td>0.00365637</td><td>&nbsp;</td><td>1.325440e5</td><td>&nbsp;</td><td>0.14033382</td><td>&nbsp;</td><td>5.375872e6</td><td>&nbsp;</td><td align=right> 38.38</td><td>&nbsp;</td><td align=right>40.56</td></tr>
<tr><td><tt>2 -:/\ b</tt></td>            <td>&nbsp;</td><td>0.00204922</td><td>&nbsp;</td><td>6.568320e5</td><td>&nbsp;</td><td>0.13355729</td><td>&nbsp;</td><td>1.705792e6</td><td>&nbsp;</td><td align=right> 65.17</td><td>&nbsp;</td><td align=right> 2.60</td></tr>
<tr><td><tt>2 -.@-:/\ i</tt></td>         <td>&nbsp;</td><td>0.00095596</td><td>&nbsp;</td><td>1.328640e5</td><td>&nbsp;</td><td>0.17538999</td><td>&nbsp;</td><td>3.279104e6</td><td>&nbsp;</td><td align=right>183.47</td><td>&nbsp;</td><td align=right>24.68</td></tr>
<tr><td><tt>2 -.@-:/\ x</tt></td>         <td>&nbsp;</td><td>0.00354134</td><td>&nbsp;</td><td>1.328640e5</td><td>&nbsp;</td><td>0.18362529</td><td>&nbsp;</td><td>5.376256e6</td><td>&nbsp;</td><td align=right> 51.85</td><td>&nbsp;</td><td align=right>40.46</td></tr>
<tr><td><tt>2 -.@-:/\ b</tt></td>         <td>&nbsp;</td><td>0.00201308</td><td>&nbsp;</td><td>6.571520e5</td><td>&nbsp;</td><td>0.17742993</td><td>&nbsp;</td><td>1.706176e6</td><td>&nbsp;</td><td align=right> 88.14</td><td>&nbsp;</td><td align=right> 2.60</td></tr>
<tr><td>&nbsp;</td></tr>
<tr><td><tt>(}: -:&quot;_1 }.) i</tt></td><td>&nbsp;</td><td>0.00460509</td><td>&nbsp;</td><td>4.326720e6</td><td>&nbsp;</td><td>0.00476343</td><td>&nbsp;</td><td>4.326720e6</td><td>&nbsp;</td></tr>
<tr><td><tt>(}: -:&quot;_1 }.) x</tt></td><td>&nbsp;</td><td>0.01125429</td><td>&nbsp;</td><td>8.521024e6</td><td>&nbsp;</td><td>0.01176834</td><td>&nbsp;</td><td>8.521024e6</td><td>&nbsp;</td></tr>
<tr><td><tt>(}: -:&quot;_1 }.) b</tt></td><td>&nbsp;</td><td>0.00256332</td><td>&nbsp;</td><td>1.180992e6</td><td>&nbsp;</td><td>0.00249425</td><td>&nbsp;</td><td>1.180992e6</td><td>&nbsp;</td></tr>

</table>

<br><br>
<!--bottom jump start--><hr><a href="amend.htm">&gt;&gt;</a>&nbsp;
<a href="oblique.htm">&lt;&lt;</a>&nbsp;
<a href="../user/contents.htm">Usr</a>&nbsp;
<a href="../primer/contents.htm">Pri</a>&nbsp;
<a href="../jforc/contents.htm">JfC</a>&nbsp;
<a href="../learning/contents.htm">LJ</a>&nbsp;
<a href="../phrases/contents.htm">Phr</a>&nbsp;
<a href="../dictionary/contents.htm">Dic</a>&nbsp;
<a href="../release/contents.htm">Rel</a>&nbsp;
<a href="../dictionary/vocabul.htm">Voc</a>&nbsp;
<a href="../dictionary/xmain.htm">!:</a>&nbsp;
<a href="../index.htm">Help</a>&nbsp;
Release<!--bottom jump end--></body>
</html>
